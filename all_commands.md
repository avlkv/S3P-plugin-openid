# Список всех инструкций конфигурации SPPfile


## Зона конфигурации плагина

| Инструкция                        | Описание                                                                                                                                                                    | Пример                                     |  
|-----------------------------------|-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------|--------------------------------------------|  
| `REF {unique name of ref object}` | Имя связанного объекта. Для парсера - это источник. Для ml - это модель, и т.д.                                                                                             | `REF nist`                                 |  
| `TYPE {type}`                     | Инструкция `TYPE` указывает тип плагина. _Возможные варианты:_ `ML`, `PARSER`                                                                                               | `TYPE PARSER` или `TYPE ML`                |  
| `FILE {filename}`                 | Указывает какой файлы необходимы для работы плагина (локальный путь до файла в репозитории плагина). Нужно использовать несколько инструкций в одном конфигурационном файле | `FILE SPPfile` или `FILE src/spp/types.py` |  


## Зона конфигурации задачи

| Инструкция                | Описание                                | Пример |
|---------------------------|-----------------------------------------|--------|
| `SET {keyword} {params}*` | Команда устанавливает настройки задачи. |        |

| keywords                             | Описение                                                                                                                                                  | Пример                    |
|--------------------------------------|-----------------------------------------------------------------------------------------------------------------------------------------------------------|---------------------------|
| `LogMode {level}`                    | **_Optional_***. Уровень журналирования                                                                                                                   | `LogMode debug`           |
| `restart-interval {interval string}` | Устанвливает интервал перезапуска задачи. Формат [POSTRESQL interval string](https://www.postgresqltutorial.com/postgresql-tutorial/postgresql-interval/) | `restart-interval 1 days` |


## Зона конфигурации нагрузки

`PAYLOAD <payload filename>` Указывает имя файла нагрузки плагина

`INIT <keyword> <object>`   # *необязательно. Устанавливает значения, объекты, который нужно передать в конструктор класса нагрузки при ее инициализации

`ENTRY <Payload classname> <entry method>` # Устанавоивает точку входа. Это имя класса и метода, которые должна запустить платформа. Метод по умолчанию - `content`



## Зона конфигурации постобработки

`NEW_FLOW <flow name> <object>`    # *необязательно. Указывает на необходимость создать новый поток в шине постобработки платформы

`ADD <pipeline modulename> [<параметры>, <key>=<value>, ...]` # указывает шаги (модули), которые должны быть выполнены в этой задаче
